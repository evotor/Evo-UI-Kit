@import "../../styles/mixins";
@import "../../styles/components/evo-spinner";

:host {
    display: inline-block;
    margin: 0;
    padding: 0;
    vertical-align: top;
    background: none;
    border: 0;
    outline: none;

    --evo-button-color: #{$color-success};
    --evo-button-text-color: #{$color-white};
}

.evo-button {
    $parent-selector: &;

    display: flex;
    justify-content: center;
    align-items: center;
    height: 40px;
    padding: 0 24px;
    font-weight: 500;
    font-size: 16px;
    font-family: $font-secondary;
    line-height: 1;
    white-space: nowrap;
    text-align: center;
    text-transform: uppercase;
    color: var(--evo-button-text-color);
    background: var(--evo-button-color) none;
    border: solid 1px transparent;
    outline: none;
    cursor: pointer;
    transition: background-color .3s, color .3s, border .3s;
    user-select: none;
    position: relative;
    overflow: hidden;

    &__content {
        position: relative;
        z-index: 2;
    }

    /**
     * background hover and active overlay
     */
    &:before {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: 1;
        opacity: 0;
        transition: opacity .3s, background-color .3s;
        background-color: $color-white;
    }

    &:hover:before {
        opacity: 0.2;
    }

    &:focus:before,
    &:active:before {
        opacity: 0.1;
        background-color: $color-black;
    }

    &:disabled,
    &_is-disabled {
        color: $color-white !important;
        background: $color-disabled !important;
        border-color: transparent !important;
        pointer-events: none;

        #{$parent-selector}:before {
            opacity: 0;
        }
    }

    /*  SHAPES  */
    &_shape-rounded {
        border-radius: 30px;
    }

    &_shape-rectangle {
        border-radius: 4px;
    }

    &_shape-semi-rectangle {
        border-radius: 8px;
    }

    /*  OUTLINE  */
    &_is-outline:not(&:hover):not(&_is-disabled):not(&:active) {
        color: var(--evo-button-color);
        background: var(--evo-button-text-color);
        border: solid 1px var(--evo-button-color);
    }

    /*  COLORS  */
    &_color-secondary {
        --evo-button-color: #{$color-secondary};
        --evo-button-text-color: #{$color-white};
    }

    &_color-success {
        --evo-button-color: #{$color-success};
        --evo-button-text-color: #{$color-white};
    }

    &_color-bonus {
        --evo-button-color: #{$color-bonus};
        --evo-button-text-color: #{$color-white};
    }

    &_color-text {
        --evo-button-color: #{$color-text};
        --evo-button-text-color: #{$color-white};
    }

    &_color-link {
        --evo-button-color: #{$color-link};
        --evo-button-text-color: #{$color-white};
    }

    &_color-error {
        --evo-button-color: #{$color-error};
        --evo-button-text-color: #{$color-white};
    }

    &_color-white {
        --evo-button-color: #{$color-white};
        --evo-button-text-color: #{$color-text};
    }

    &_color-primary {
        --evo-button-color: #{$color-primary};
        --evo-button-text-color: #{$color-white};
    }

    /*  SIZES  */

    &_size-small {

    }

    &_size-normal {

    }

    &_size-large {

    }

    /*  THEME CORRECTIONS  */


    /*  STATES  */

    &_is-loading {
        position: relative;
        pointer-events: none;
    }

    &__loading-wrapper {
        position: absolute;
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 2;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;

        #{$parent-selector}_is-loading & {
            display: flex;
        }
    }

    &__spinner {
        @include evo-spinner(24px);

        border-color: rgba(0, 0, 0, 0.1);
        border-top-color: var(--evo-button-text-color);

        #{$parent-selector}_is-outline & {
            border-color: rgba(0, 0, 0, 0.1);
            border-top-color: var(--evo-button-color);
        }
    }
}
