@use "sass:map";

@use "./assets/evo-badge-variables" as evoBadgeVariables;

@import '../../styles/mixins';

evo-badge {
    display: block;
    width: max-content;

    --evo-badge-color: #{$color-white};
    --evo-badge-background-color: none;
    --evo-badge-background-image: none;

    .evo-badge {
        $parent-selector: '.evo-badge';

        --inner-icon-size: 20px;
        --inner-gap: 8px; // doubled, because evo-icon has negative margin
        --inner-min-height: 24px;
        --inner-padding: 1px 0;
        --inner-color: #{$color-white};
        --inner-background-color: #{$color-icon-dark};
        --inner-background-image: none;

        display: flex;
        justify-content: center;
        align-items: center;
        gap: var(--inner-gap);
        padding: var(--inner-padding);

        width: 100%;
        min-height: var(--inner-min-height);
        border-radius: 4px;
        overflow: hidden;
        white-space: nowrap;

        text-align: center;
        color: var(--inner-color);
        background-color: var(--inner-background-color);
        background-image: var(--inner-background-image);

        evo-icon {
            display: block;
            width: var(--inner-icon-size);
            height: var(--inner-icon-size);
            margin: 0 -4px;
            fill: currentColor;
        }

        // COLORS
        @each $color in map.keys(evoBadgeVariables.$evoBadgeColorsMap) {
            // interpolation hack below to hide SCSS warning: "You probably don't mean to use the color value gray in interpolation here."
            &_#{'' + $color} {
                --inner-color: #{map.get(evoBadgeVariables.$evoBadgeColorsMap, $color, color)};
                --inner-background-color: #{map.get(evoBadgeVariables.$evoBadgeColorsMap, $color, background)};
            }
        }

        // CUSTOM COLOR
        &_custom {
            --inner-background-color: var(--evo-badge-background-color);
            --inner-background-image: var(--evo-badge-background-image);
            --inner-color: var(--evo-badge-color);
        }

        // SIZES
        &_small {
            --inner-icon-size: 16px;
            --inner-padding: 0 6px;
            --inner-min-height: 18px;
            @include evo-text-caption(c2);
        }

        &_normal {
            --inner-icon-size: 20px;
            --inner-padding: 1px 8px;
            --inner-min-height: 24px;
            @include evo-text-paragraph(p2);
        }

        &_large {
            --inner-icon-size: 24px;
            --inner-padding: 3px 8px;
            --inner-min-height: 32px;
            @include evo-text-subtitle(s2);
        }
    }
}
