<div class="wrapper" [class]="getWrapperClasses()">
    <div #trigger="cdkOverlayOrigin" cdkOverlayOrigin class="control" [class]="getControlContainerClasses('control')">
        <div class="control__input-wrapper">
            <div class="control__weekday">{{ date | date : 'EEEEEE' }}</div>
            <input
                #inputElement
                type="text"
                name="date"
                autocomplete="off"
                class="control__input"
                [disabled]="disabled"
                [placeholder]="placeholder"
                [(ngModel)]="inputValue"
                (focus)="onInputFocus($event)"
                (blur)="onInputBlur($event)"
                (change)="onInputChange($event)"
            />
        </div>

        <a href="" class="control__icon-wrapper" (click)="onIconClick($event)">
            <evo-icon shape="calendar" class="control__icon"></evo-icon>
        </a>
    </div>

    <evo-control-error
        *ngIf="isErrorVisible"
        class="control-errors"
        [errors]="control.errors"
        [errorsMessages]="errorsMessages"
    ></evo-control-error>
</div>

<ng-template
    cdkConnectedOverlay
    [cdkConnectedOverlayScrollStrategy]="closeScrollStrategy"
    [cdkConnectedOverlayOrigin]="trigger"
    [cdkConnectedOverlayOpen]="isCalendarOpen"
    (overlayOutsideClick)="onCalendarOutsideClick($event)"
>
    <evo-calendar
        [date]="date"
        [hasTime]="hasTime"
        [min]="min"
        [max]="max"
        (dateChange)="onCalendarDateChange($event)"
    ></evo-calendar>
</ng-template>
